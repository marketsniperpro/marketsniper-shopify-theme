<div class="auth-page">
  <div class="container">
    <div class="auth-container">
      
      <!-- Login Form -->
      <div class="auth-box" id="login-box">
        <h2>Welcome Back</h2>
        <p class="auth-subtitle">Login to manage your trading tools</p>
        
        {% form 'customer_login' %}
          {{ form.errors | default_errors }}
          
          <div class="form-group">
            <label for="customer-email">Email</label>
            <input 
              type="email" 
              name="customer[email]" 
              id="customer-email" 
              autocomplete="email"
              required
            >
          </div>
          
          <div class="form-group">
            <label for="customer-password">Password</label>
            <input 
              type="password" 
              name="customer[password]" 
              id="customer-password" 
              required
            >
          </div>
          
          <a href="/account/recover" class="forgot-password">Forgot password?</a>
          
          <button type="submit" class="btn btn-primary auth-btn">Login</button>
        {% endform %}
        
        <div class="auth-switch">
          Don't have an account? 
          <button onclick="showRegister()" class="switch-link">Create Account</button>
        </div>
      </div>
      
      <!-- Register Form -->
      <div class="auth-box" id="register-box" style="display: none;">
        <h2>Create Account</h2>
        <p class="auth-subtitle">Start your trading journey today</p>
        
        {% form 'create_customer' %}
          {{ form.errors | default_errors }}
          
          <div class="form-group">
            <label for="register-first-name">First Name</label>
            <input 
              type="text" 
              name="customer[first_name]" 
              id="register-first-name"
              required
            >
          </div>
          
          <div class="form-group">
            <label for="register-last-name">Last Name</label>
            <input 
              type="text" 
              name="customer[last_name]" 
              id="register-last-name"
              required
            >
          </div>
          
          <div class="form-group">
            <label for="register-email">Email</label>
            <input 
              type="email" 
              name="customer[email]" 
              id="register-email" 
              autocomplete="email"
              required
            >
          </div>
          
          <div class="form-group">
            <label for="register-password">Password</label>
            <input 
              type="password" 
              name="customer[password]" 
              id="register-password"
              required
            >
          </div>
          
          <button type="submit" class="btn btn-primary auth-btn">Create Account</button>
        {% endform %}
        
        <div class="auth-switch">
          Already have an account? 
          <button onclick="showLogin()" class="switch-link">Login</button>
        </div>
      </div>
      
    </div>
  </div>
</div>

<script src="{{ 'auth.js' | asset_url }}" defer></script>
<script>
  // Show register form if there are registration errors
  {% if form.errors and form.posted_successfully? == false %}
    {% if template contains 'register' or form.password %}
      document.addEventListener('DOMContentLoaded', () => showRegister());
    {% endif %}
  {% endif %}
</script>